#!/usr/bin/env python

# This is the central coordination server executable.

import os
import sys
from gridtogo.server import GridToGoServer

#TODO: Find less hacky way to get our package imported
# Add project root directory (enable symlink, and trunk execution).
PROJECT_ROOT_DIRECTORY = os.path.abspath(
	os.path.dirname(os.path.dirname(os.path.realpath(sys.argv[0]))))

if (os.path.exists(os.path.join(PROJECT_ROOT_DIRECTORY, 'gridtogo'))
    and PROJECT_ROOT_DIRECTORY not in sys.path):
	sys.path.insert(0, PROJECT_ROOT_DIRECTORY)
	os.putenv('PYTHONPATH', PROJECT_ROOT_DIRECTORY) # for subprocesses

#TODO: User-configurable port
server = GridToGoServer(8017)
server.run()
